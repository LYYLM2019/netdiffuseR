<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Conversion between adjacency matrix and edgelist — edgelist_to_adjmat • netdiffuseR</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Conversion between adjacency matrix and edgelist — edgelist_to_adjmat" />
<meta property="og:description" content="Generates adjacency matrix from an edgelist and vice versa." />
<meta name="twitter:card" content="summary" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-40608305-5"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-40608305-5');
</script>


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">netdiffuseR</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.21.999</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/analyzing-medical-innovation-data.html">netdiffuseR showcase: Medical Innovations</a>
    </li>
    <li>
      <a href="../articles/introduction-to-netdiffuser.html">Simulating diffusion networks: Using the `rdiffnet` function</a>
    </li>
    <li>
      <a href="../articles/not-lost-in-translation-importing-and-exporting-graphs.html">Not-Lost in translation: Getting diffusion data into netdiffuseR</a>
    </li>
    <li>
      <a href="../articles/time_discount_suscep_infect.html">Time Discounted Infection and Susceptibility</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/USCCANA/netdiffuseR">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Conversion between adjacency matrix and edgelist</h1>
    <small class="dont-index">Source: <a href='https://github.com/USCCANA/netdiffuseR/blob/master/R/adjmat.r'><code>R/adjmat.r</code></a></small>
    <div class="hidden name"><code>edgelist_to_adjmat.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Generates adjacency matrix from an edgelist and vice versa.</p>
    </div>

    <pre class="usage"><span class='fu'>edgelist_to_adjmat</span>(
  <span class='no'>edgelist</span>,
  <span class='kw'>w</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>t0</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>t1</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>t</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>simplify</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
  <span class='kw'>undirected</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/options.html'>getOption</a></span>(<span class='st'>"diffnet.undirected"</span>),
  <span class='kw'>self</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/options.html'>getOption</a></span>(<span class='st'>"diffnet.self"</span>),
  <span class='kw'>multiple</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/options.html'>getOption</a></span>(<span class='st'>"diffnet.multiple"</span>),
  <span class='kw'>keep.isolates</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
  <span class='kw'>recode.ids</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>
)

<span class='fu'>adjmat_to_edgelist</span>(
  <span class='no'>graph</span>,
  <span class='kw'>undirected</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/options.html'>getOption</a></span>(<span class='st'>"diffnet.undirected"</span>, <span class='fl'>FALSE</span>),
  <span class='kw'>keep.isolates</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/options.html'>getOption</a></span>(<span class='st'>"diffnet.keep.isolates"</span>, <span class='fl'>TRUE</span>)
)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>edgelist</th>
      <td><p>Two column matrix/data.frame in the form of ego -source- and
alter -target- (see details).</p></td>
    </tr>
    <tr>
      <th>w</th>
      <td><p>Numeric vector. Strength of ties (optional).</p></td>
    </tr>
    <tr>
      <th>t0</th>
      <td><p>Integer vector. Starting time of the ties (optional).</p></td>
    </tr>
    <tr>
      <th>t1</th>
      <td><p>Integer vector. Finishing time of the ties (optional).</p></td>
    </tr>
    <tr>
      <th>t</th>
      <td><p>Integer scalar. Repeat the network <code>t</code> times (if no <code>t0,t1</code> are provided).</p></td>
    </tr>
    <tr>
      <th>simplify</th>
      <td><p>Logical scalar. When TRUE and <code>times=NULL</code> it will return an adjacency
matrix, otherwise an array of adjacency matrices.
(see details).</p></td>
    </tr>
    <tr>
      <th>undirected</th>
      <td><p>Logical scalar. When <code>TRUE</code> only the lower triangle of the adjacency matrix will considered (faster).</p></td>
    </tr>
    <tr>
      <th>self</th>
      <td><p>Logical scalar. When <code>TRUE</code> autolinks (loops, self edges) are allowed (see details).</p></td>
    </tr>
    <tr>
      <th>multiple</th>
      <td><p>Logical scalar. When <code>TRUE</code> allows multiple edges.</p></td>
    </tr>
    <tr>
      <th>keep.isolates</th>
      <td><p>Logical scalar. When FALSE, rows with <code>NA/NULL</code> values
(isolated vertices unless have autolink) will be droped (see details).</p></td>
    </tr>
    <tr>
      <th>recode.ids</th>
      <td><p>Logical scalar. When TRUE ids are recoded using <code><a href='https://rdrr.io/r/base/factor.html'>as.factor</a></code>
(see details).</p></td>
    </tr>
    <tr>
      <th>graph</th>
      <td><p>Any class of accepted graph format (see <code><a href='netdiffuseR-graphs.html'>netdiffuseR-graphs</a></code>).</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>In the case of <code>edgelist_to_adjmat</code> either an adjacency matrix
(if times is NULL) or an array of these (if times is not null). For
<code>adjmat_to_edgelist</code> the output is an edgelist with the following columns:</p>
<dt>ego</dt><dd><p>Origin of the tie.</p></dd>
<dt>alter</dt><dd><p>Target of the tie.</p></dd>
<dt>value</dt><dd><p>Value in the adjacency matrix.</p></dd>
<dt>time</dt><dd><p>Either a 1 (if the network is static) or the time stamp of the tie.</p></dd>

    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>When converting from edglist to adjmat the function will <code><a href='recode.html'>recode</a></code> the
edgelist before starting. The user can keep track after the recording by checking
the resulting adjacency matrices' <code><a href='https://rdrr.io/r/base/row.names.html'>row.names</a></code>. In the case that the
user decides skipping the recoding (because wants to keep vertices index numbers,
implying that the resulting graph will have isolated vertices), he can override
this by setting <code>recode.ids=FALSE</code> (see example).</p>
<p>When multiple edges are included, <code>multiple=TRUE</code>,each vertex between \(\{i,j\}\) will be counted
as many times it appears in the edgelist. So if a vertex \(\{i,j\}\) appears 2
times, the adjacency matrix element <code>(i,j)</code> will be 2.</p>
<p>Edges with incomplete information (missing data on <code>w</code> or <code>times</code>) are
not included on the graph. Incomplete cases are tagged using <code><a href='https://rdrr.io/r/stats/complete.cases.html'>complete.cases</a></code>
and can be retrieved by the user by accessing the attribute <code>incomplete</code>.</p>
<p>Were the case that either ego or alter are missing (i.e. <code>NA</code> values), the
function will either way include the non-missing vertex. See below for an example
of this.</p>
<p>The function performs several checks before starting to create the adjacency
matrix. These are:</p><ul>
<li><p>Dimensions of the inputs, such as number of columns and length of vectors</p></li>
<li><p>Having complete cases. If anly edge has a non-numeric value such as NAs or
 NULL in either <code>times</code> or <code>w</code>, it will be
 removed. A full list of such edges can be retrieved from the attribute
 <code>incomplete</code></p></li>
<li><p>Nodes and times ids coding</p></li>
</ul>

<p><code>recode.ids=FALSE</code> is useful when the vertices ids have already been
coded. For example, after having use <code>adjmat_to_edgelist</code>, ids are
correctly encoded, so when going back (using <code>edgelist_to_adjmat</code>)
<code>recode.ids</code> should be FALSE.</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p>Other data management functions: 
<code><a href='diffnet-class.html'>diffnet-class</a></code>,
<code><a href='egonet_attrs.html'>egonet_attrs</a>()</code>,
<code><a href='isolated.html'>isolated</a>()</code>,
<code><a href='survey_to_diffnet.html'>survey_to_diffnet</a>()</code></p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'># Base data</span>
<span class='fu'><a href='https://rdrr.io/r/base/Random.html'>set.seed</a></span>(<span class='fl'>123</span>)
<span class='no'>n</span> <span class='kw'>&lt;-</span> <span class='fl'>5</span>
<span class='no'>edgelist</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='rgraph_er.html'>rgraph_er</a></span>(<span class='no'>n</span>, <span class='kw'>as.edgelist</span><span class='kw'>=</span><span class='fl'>TRUE</span>, <span class='kw'>p</span><span class='kw'>=</span><span class='fl'>.2</span>)[,<span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"ego"</span>,<span class='st'>"alter"</span>)]
<span class='no'>times</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/sample.html'>sample.int</a></span>(<span class='fl'>3</span>, <span class='fu'><a href='https://rdrr.io/r/base/nrow.html'>nrow</a></span>(<span class='no'>edgelist</span>), <span class='kw'>replace</span><span class='kw'>=</span><span class='fl'>TRUE</span>)
<span class='no'>w</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/MathFun.html'>abs</a></span>(<span class='fu'><a href='https://rdrr.io/r/stats/Normal.html'>rnorm</a></span>(<span class='fu'><a href='https://rdrr.io/r/base/nrow.html'>nrow</a></span>(<span class='no'>edgelist</span>)))

<span class='co'># Simple example</span>
<span class='fu'>edgelist_to_adjmat</span>(<span class='no'>edgelist</span>)</div><div class='output co'>#&gt; 5 x 5 sparse Matrix of class "dgCMatrix"
#&gt;   1 2 3 4 5
#&gt; 1 . . . . 1
#&gt; 2 1 . . . 1
#&gt; 3 . . . 1 .
#&gt; 4 . . . . 1
#&gt; 5 . . . 1 .</div><div class='input'><span class='fu'>edgelist_to_adjmat</span>(<span class='no'>edgelist</span>, <span class='kw'>undirected</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)</div><div class='output co'>#&gt; 5 x 5 sparse Matrix of class "dgCMatrix"
#&gt;   1 2 3 4 5
#&gt; 1 . 1 . . 1
#&gt; 2 1 . . . 1
#&gt; 3 . . . 1 .
#&gt; 4 . . 1 . 1
#&gt; 5 1 1 . 1 .</div><div class='input'>
<span class='co'># Using w</span>
<span class='fu'>edgelist_to_adjmat</span>(<span class='no'>edgelist</span>, <span class='no'>w</span>)</div><div class='output co'>#&gt; 5 x 5 sparse Matrix of class "dgCMatrix"
#&gt;           1 2 3         4         5
#&gt; 1 .         . . .         1.9666172
#&gt; 2 0.5558411 . . .         0.7013559
#&gt; 3 .         . . 1.7869131 .        
#&gt; 4 .         . . .         0.4727914
#&gt; 5 .         . . 0.4978505 .        </div><div class='input'><span class='fu'>edgelist_to_adjmat</span>(<span class='no'>edgelist</span>, <span class='no'>w</span>, <span class='kw'>undirected</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)</div><div class='output co'>#&gt; 5 x 5 sparse Matrix of class "dgCMatrix"
#&gt;           1         2        3         4         5
#&gt; 1 .         0.5558411 .        .         1.9666172
#&gt; 2 0.5558411 .         .        .         0.7013559
#&gt; 3 .         .         .        1.7869131 .        
#&gt; 4 .         .         1.786913 .         0.4978505
#&gt; 5 1.9666172 0.7013559 .        0.4978505 .        </div><div class='input'>
<span class='co'># Using times</span>
<span class='fu'>edgelist_to_adjmat</span>(<span class='no'>edgelist</span>, <span class='kw'>t0</span> <span class='kw'>=</span> <span class='no'>times</span>)</div><div class='output co'>#&gt; $`1`
#&gt; 5 x 5 sparse Matrix of class "dgCMatrix"
#&gt;   1 2 3 4 5
#&gt; 1 . . . . 1
#&gt; 2 1 . . . .
#&gt; 3 . . . 1 .
#&gt; 4 . . . . .
#&gt; 5 . . . 1 .
#&gt; 
#&gt; $`2`
#&gt; 5 x 5 sparse Matrix of class "dgCMatrix"
#&gt;   1 2 3 4 5
#&gt; 1 . . . . 1
#&gt; 2 1 . . . .
#&gt; 3 . . . 1 .
#&gt; 4 . . . . 1
#&gt; 5 . . . 1 .
#&gt; 
#&gt; $`3`
#&gt; 5 x 5 sparse Matrix of class "dgCMatrix"
#&gt;   1 2 3 4 5
#&gt; 1 . . . . 1
#&gt; 2 1 . . . 1
#&gt; 3 . . . 1 .
#&gt; 4 . . . . 1
#&gt; 5 . . . 1 .
#&gt; 
#&gt; attr(,"incomplete")
#&gt; integer(0)</div><div class='input'><span class='fu'>edgelist_to_adjmat</span>(<span class='no'>edgelist</span>, <span class='kw'>t0</span> <span class='kw'>=</span> <span class='no'>times</span>, <span class='kw'>undirected</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)</div><div class='output co'>#&gt; $`1`
#&gt; 5 x 5 sparse Matrix of class "dgCMatrix"
#&gt;   1 2 3 4 5
#&gt; 1 . 1 . . 1
#&gt; 2 1 . . . .
#&gt; 3 . . . 1 .
#&gt; 4 . . 1 . 1
#&gt; 5 1 . . 1 .
#&gt; 
#&gt; $`2`
#&gt; 5 x 5 sparse Matrix of class "dgCMatrix"
#&gt;   1 2 3 4 5
#&gt; 1 . 1 . . 1
#&gt; 2 1 . . . .
#&gt; 3 . . . 1 .
#&gt; 4 . . 1 . 1
#&gt; 5 1 . . 1 .
#&gt; 
#&gt; $`3`
#&gt; 5 x 5 sparse Matrix of class "dgCMatrix"
#&gt;   1 2 3 4 5
#&gt; 1 . 1 . . 1
#&gt; 2 1 . . . 1
#&gt; 3 . . . 1 .
#&gt; 4 . . 1 . 1
#&gt; 5 1 1 . 1 .
#&gt; 
#&gt; attr(,"incomplete")
#&gt; integer(0)</div><div class='input'>
<span class='co'># Using times and w</span>
<span class='fu'>edgelist_to_adjmat</span>(<span class='no'>edgelist</span>, <span class='kw'>t0</span> <span class='kw'>=</span> <span class='no'>times</span>, <span class='kw'>w</span> <span class='kw'>=</span> <span class='no'>w</span>)</div><div class='output co'>#&gt; $`1`
#&gt; 5 x 5 sparse Matrix of class "dgCMatrix"
#&gt;           1 2 3         4        5
#&gt; 1 .         . . .         1.966617
#&gt; 2 0.5558411 . . .         .       
#&gt; 3 .         . . 1.7869131 .       
#&gt; 4 .         . . .         .       
#&gt; 5 .         . . 0.4978505 .       
#&gt; 
#&gt; $`2`
#&gt; 5 x 5 sparse Matrix of class "dgCMatrix"
#&gt;           1 2 3         4         5
#&gt; 1 .         . . .         1.9666172
#&gt; 2 0.5558411 . . .         .        
#&gt; 3 .         . . 1.7869131 .        
#&gt; 4 .         . . .         0.4727914
#&gt; 5 .         . . 0.4978505 .        
#&gt; 
#&gt; $`3`
#&gt; 5 x 5 sparse Matrix of class "dgCMatrix"
#&gt;           1 2 3         4         5
#&gt; 1 .         . . .         1.9666172
#&gt; 2 0.5558411 . . .         0.7013559
#&gt; 3 .         . . 1.7869131 .        
#&gt; 4 .         . . .         0.4727914
#&gt; 5 .         . . 0.4978505 .        
#&gt; 
#&gt; attr(,"incomplete")
#&gt; integer(0)</div><div class='input'><span class='fu'>edgelist_to_adjmat</span>(<span class='no'>edgelist</span>, <span class='kw'>t0</span> <span class='kw'>=</span> <span class='no'>times</span>, <span class='kw'>undirected</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>w</span> <span class='kw'>=</span> <span class='no'>w</span>)</div><div class='output co'>#&gt; $`1`
#&gt; 5 x 5 sparse Matrix of class "dgCMatrix"
#&gt;           1         2        3         4         5
#&gt; 1 .         0.5558411 .        .         1.9666172
#&gt; 2 0.5558411 .         .        .         .        
#&gt; 3 .         .         .        1.7869131 .        
#&gt; 4 .         .         1.786913 .         0.4978505
#&gt; 5 1.9666172 .         .        0.4978505 .        
#&gt; 
#&gt; $`2`
#&gt; 5 x 5 sparse Matrix of class "dgCMatrix"
#&gt;           1         2        3         4         5
#&gt; 1 .         0.5558411 .        .         1.9666172
#&gt; 2 0.5558411 .         .        .         .        
#&gt; 3 .         .         .        1.7869131 .        
#&gt; 4 .         .         1.786913 .         0.4978505
#&gt; 5 1.9666172 .         .        0.4978505 .        
#&gt; 
#&gt; $`3`
#&gt; 5 x 5 sparse Matrix of class "dgCMatrix"
#&gt;           1         2        3         4         5
#&gt; 1 .         0.5558411 .        .         1.9666172
#&gt; 2 0.5558411 .         .        .         0.7013559
#&gt; 3 .         .         .        1.7869131 .        
#&gt; 4 .         .         1.786913 .         0.4978505
#&gt; 5 1.9666172 0.7013559 .        0.4978505 .        
#&gt; 
#&gt; attr(,"incomplete")
#&gt; integer(0)</div><div class='input'>
<span class='co'># Not recoding ----------------------------------------------------</span>
<span class='co'># Notice that vertices 3, 4 and 5 are not present in this graph.</span>
<span class='no'>graph</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/matrix.html'>matrix</a></span>(<span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(
 <span class='fl'>1</span>,<span class='fl'>2</span>,<span class='fl'>6</span>,
 <span class='fl'>6</span>,<span class='fl'>6</span>,<span class='fl'>7</span>
), <span class='kw'>ncol</span><span class='kw'>=</span><span class='fl'>2</span>)

<span class='co'># Generates an adjmat of size 4 x 4</span>
<span class='fu'>edgelist_to_adjmat</span>(<span class='no'>graph</span>)</div><div class='output co'>#&gt; 4 x 4 sparse Matrix of class "dgCMatrix"
#&gt;   1 2 6 7
#&gt; 1 . . 1 .
#&gt; 2 . . 1 .
#&gt; 6 . . . 1
#&gt; 7 . . . .</div><div class='input'>
<span class='co'># Generates an adjmat of size 7 x 7</span>
<span class='fu'>edgelist_to_adjmat</span>(<span class='no'>graph</span>, <span class='kw'>recode.ids</span><span class='kw'>=</span><span class='fl'>FALSE</span>)</div><div class='output co'>#&gt; 7 x 7 sparse Matrix of class "dgCMatrix"
#&gt;   1 2 3 4 5 6 7
#&gt; 1 . . . . . 1 .
#&gt; 2 . . . . . 1 .
#&gt; 3 . . . . . . .
#&gt; 4 . . . . . . .
#&gt; 5 . . . . . . .
#&gt; 6 . . . . . . 1
#&gt; 7 . . . . . . .</div><div class='input'>
<span class='co'># Dynamic with spells -------------------------------------------------------</span>
<span class='no'>edgelist</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/cbind.html'>rbind</a></span>(
   <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>1</span>,<span class='fl'>2</span>,<span class='fl'>NA</span>,<span class='fl'>1990</span>),
   <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>2</span>,<span class='fl'>3</span>,<span class='fl'>NA</span>,<span class='fl'>1991</span>),
   <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>3</span>,<span class='fl'>4</span>,<span class='fl'>1991</span>,<span class='fl'>1992</span>),
   <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>4</span>,<span class='fl'>1</span>,<span class='fl'>1992</span>,<span class='fl'>1993</span>),
   <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>1</span>,<span class='fl'>2</span>,<span class='fl'>1993</span>,<span class='fl'>1993</span>)
)

<span class='no'>graph</span> <span class='kw'>&lt;-</span> <span class='fu'>edgelist_to_adjmat</span>(<span class='no'>edgelist</span>[,<span class='fl'>1</span>:<span class='fl'>2</span>], <span class='kw'>t0</span><span class='kw'>=</span><span class='no'>edgelist</span>[,<span class='fl'>3</span>], <span class='kw'>t1</span><span class='kw'>=</span><span class='no'>edgelist</span>[,<span class='fl'>4</span>])

<span class='co'># Creating a diffnet object with it so we can apply the plot_diffnet function</span>
<span class='no'>diffnet</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='diffnet-class.html'>as_diffnet</a></span>(<span class='no'>graph</span>, <span class='kw'>toa</span><span class='kw'>=</span><span class='fl'>1</span>:<span class='fl'>4</span>)
<span class='fu'><a href='plot_diffnet.html'>plot_diffnet</a></span>(<span class='no'>diffnet</span>, <span class='kw'>label</span><span class='kw'>=</span><span class='fu'><a href='https://rdrr.io/r/base/colnames.html'>rownames</a></span>(<span class='no'>diffnet</span>))</div><div class='img'><img src='edgelist_to_adjmat-1.png' alt='' width='700' height='433' /></div><div class='input'>
<span class='co'># Missing alter in the edgelist ---------------------------------------------</span>
<span class='fu'><a href='https://rdrr.io/r/utils/data.html'>data</a></span>(<span class='no'>fakeEdgelist</span>)

<span class='co'># Notice that edge 202 is isolated</span>
<span class='no'>fakeEdgelist</span></div><div class='output co'>#&gt;    ego alter value
#&gt; 1  102   101     1
#&gt; 2  103   102     1
#&gt; 3  102   103     1
#&gt; 4  105   103     1
#&gt; 5  105   104     2
#&gt; 6  104   105     1
#&gt; 7  205   201     1
#&gt; 8  210   201     1
#&gt; 9  210   205     1
#&gt; 10 205   210     1
#&gt; 11 202  &lt;NA&gt;    NA</div><div class='input'>
<span class='co'># The function still includes vertex 202</span>
<span class='fu'>edgelist_to_adjmat</span>(<span class='no'>fakeEdgelist</span>[,<span class='fl'>1</span>:<span class='fl'>2</span>])</div><div class='output co'>#&gt; 9 x 9 sparse Matrix of class "dgCMatrix"
#&gt;     101 102 103 104 105 201 202 205 210
#&gt; 101   .   .   .   .   .   .   .   .   .
#&gt; 102   1   .   1   .   .   .   .   .   .
#&gt; 103   .   1   .   .   .   .   .   .   .
#&gt; 104   .   .   .   .   1   .   .   .   .
#&gt; 105   .   .   1   1   .   .   .   .   .
#&gt; 201   .   .   .   .   .   .   .   .   .
#&gt; 202   .   .   .   .   .   .   .   .   .
#&gt; 205   .   .   .   .   .   1   .   .   1
#&gt; 210   .   .   .   .   .   1   .   1   .</div><div class='input'>
<span class='no'>edgelist</span></div><div class='output co'>#&gt;      [,1] [,2] [,3] [,4]
#&gt; [1,]    1    2   NA 1990
#&gt; [2,]    2    3   NA 1991
#&gt; [3,]    3    4 1991 1992
#&gt; [4,]    4    1 1992 1993
#&gt; [5,]    1    2 1993 1993</div><div class='input'>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      <li><a href="#value">Value</a></li>
      <li><a href="#details">Details</a></li>
      <li><a href="#see-also">See also</a></li>
      <li><a href="#examples">Examples</a></li>
    </ul>

    <h2>Author</h2>
    <p>George G. Vega Yon &amp; Thomas W. Valente</p>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by George Vega Yon, Thomas Valente.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


